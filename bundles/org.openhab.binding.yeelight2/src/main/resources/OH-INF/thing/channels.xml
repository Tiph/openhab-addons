<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="yeelight2"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd">


	<!-- https://www.openhab.org/docs/developer/bindings/thing-xml.html#system-trigger-channel-types -->
	
    <channel-group-type id="default">
        <label>Default</label>
        <description>These channels controls the main light</description>
        <channels>
            <channel id="power" typeId="power"/>
            <channel id="delayoff" typeId="delayoff"/>
            <channel id="music_on" typeId="music_on"/>

            <channel id="main_power" typeId="main_power"/>
            <channel id="active_mode" typeId="active_mode"/>
            <channel id="bright" typeId="bright"/>
            <channel id="nl_br" typeId="nl_br"/>
            <channel id="ct" typeId="ct"/>
            <channel id="rgb" typeId="rgb"/>
            <channel id="color_mode" typeId="color_mode"/>
            <channel id="flowing" typeId="flowing"/>
            <channel id="flow_params" typeId="flow_params"/>
       </channels>
    </channel-group-type>
    
    <channel-group-type id="background">
        <label>Background</label>
        <description>These channels controls the background light</description>
        <channels>
            <channel id="bg_power" typeId="bg_power"/>
            <channel id="bg_ct" typeId="bg_ct"/>
            <channel id="bg_bright" typeId="bg_bright"/>
            <channel id="bg_rgb" typeId="bg_rgb"/>
            <channel id="bg_lmode" typeId="bg_lmode"/>
            <channel id="bg_flowing" typeId="bg_flowing"/>
            <channel id="bg_flow_params" typeId="bg_flow_params"/>
       </channels>
    </channel-group-type>
    
	<!-- Command Channel -->
	<channel-type id="command" advanced="true">
		<item-type>String</item-type>
		<label>Command</label>
		<description>Send a Command Directly to the Device.</description>
	</channel-type>
    <channel-type id="commandResult" advanced="true">
        <item-type>String</item-type>
        <label>Command Result</label>
        <description>Shows the result from the last command sent with the command channel.</description>
        <state readOnly="true"/>
    </channel-type>

	<!-- Power Channel -->
	<channel-type id="power">
		<item-type>Switch</item-type>
		<label>Power</label>
		<description>Power Status</description>
		<category>Switch</category>
		<tags>
            <tag>Switch</tag>
            <tag>Power</tag>
		</tags>
	</channel-type>
	
	<!-- Delay Off Channel -->
	<channel-type id="delayoff">
		<item-type>Number:Time</item-type>
		<label>Delay Off</label>
		<description>The Remaining Time of a Sleep Timer. Range 1 ~ 60 (minutes)</description>
		<category>Time</category>
		<state min="0" max="60" step="1" pattern="%d %unit%" readOnly="true"/>
	</channel-type>
	
    <!-- Music Mode Channel -->
    <channel-type id="music_on">
        <item-type>Switch</item-type>
        <label>Music Mode</label>
        <description>Music Mode</description>
        <state readOnly="true"/>
    </channel-type>

	<!-- Main Power Channel -->
	<channel-type id="main_power">
		<item-type>Switch</item-type>
		<label>Main Power</label>
		<description>Main Power Status</description>
        <category>Switch</category>
        <tags>
            <tag>Switch</tag>
            <tag>Power</tag>
        </tags>
	</channel-type>

	<!-- Active mode Channel -->
	<channel-type id="active_mode">
		<item-type>String</item-type>
		<label>Active Mode</label>
		<description>Active Mode (Sun/Moon)</description>
        <state readOnly="true">
            <options>
                <option value="SUN">Sun</option>
                <option value="MOON">Moon</option>
            </options>
        </state>
	</channel-type>

	<!-- Brightness Channel -->
	<channel-type id="bright">
		<item-type>Dimmer</item-type>
		<label>Brightness</label>
		<description>Brightness Percentage. Range 1 ~ 100</description>
		<category>Light</category>
        <tags>
            <tag>Control</tag>
            <tag>Light</tag>
        </tags>
		<state min="1" max="100" step="1" pattern="%d %"></state>
	</channel-type>

	<!-- Nightlight (moon mode) Brightness Channel -->
	<channel-type id="nl_br">
		<item-type>Dimmer</item-type>
		<label>Moon Brightness</label>
		<description>Moon Brightness Percentage. Range 1 ~ 100</description>
		<category>Light</category>
        <tags>
            <tag>Control</tag>
            <tag>Light</tag>
        </tags>
		<state min="1" max="100" step="1" pattern="%d %"></state>
	</channel-type>

	<!-- Color Temperature Channel -->
	<channel-type id="ct">
		<item-type>Number</item-type>
		<label>Color Temperature</label>
		<description>Color Temperature. Range 1700 ~ 6500(K)</description>
		<category>ColorLight</category>
        <tags>
            <tag>Control</tag>
            <tag>ColorTemperature</tag>
        </tags>
		<state min="1700" max="6500" step="1" pattern="%d K"></state>
	</channel-type>

	<!-- Color Channel -->
	<channel-type id="rgb">
		<item-type>Color</item-type>
		<label>Color</label>
		<description>Color</description>
		<category>ColorLight</category>
        <tags>
            <tag>Control</tag>
            <tag>Light</tag>
        </tags>
	</channel-type>
	<channel-type id="color_mode">
		<item-type>String</item-type>
		<label>Color Mode</label>
		<description>Color Mode (RGB, CT or HSV)</description>
		<category>ColorLight</category>
		<state readOnly="true">
			<options>
				<option value="RGB">Color</option>
				<option value="CT">Color Temperature</option>
				<option value="HSV">Hsv</option>
			</options>
		</state>
	</channel-type>

	<!-- Flowing Channel -->
	<channel-type id="flowing">
		<item-type>Switch</item-type>
		<label>Flowing</label>
		<description>Flow Running Status</description>
		<state readOnly="true"/>
	</channel-type>

	<!-- Flow Parameters Channel -->
	<channel-type id="flow_params">
		<item-type>String</item-type>
		<label>Flow Parameters</label>
		<description>Current Flow Parameters.</description>
		<state readOnly="true"/>
	</channel-type>

	<!-- Background Power Channel -->
	<channel-type id="bg_power">
		<item-type>Switch</item-type>
		<label>Background Power</label>
		<description>Background Power Status</description>
        <category>Switch</category>
        <tags>
            <tag>Switch</tag>
            <tag>Power</tag>
        </tags>
	</channel-type>

	<!-- Background Color Temperature Channel -->
	<channel-type id="bg_ct">
		<item-type>Number</item-type>
		<label>Background Color Temperature</label>
		<description>Background Color Temperature. Range 1700 ~ 6500(K)</description>
        <category>ColorLight</category>
        <tags>
            <tag>Control</tag>
            <tag>ColorTemperature</tag>
        </tags>
		<state min="1700" max="6500" step="1" pattern="%d K"></state>
	</channel-type>

	<!-- Background Brightness Channel -->
	<channel-type id="bg_bright">
		<item-type>Dimmer</item-type>
		<label>Background Brightness</label>
		<description>Background Brightness Percentage. Range 1 ~ 100</description>
        <category>Light</category>
        <tags>
            <tag>Control</tag>
            <tag>Light</tag>
        </tags>
		<state min="1" max="100" step="1" pattern="%d %"></state>
	</channel-type>

	<!-- Background Color Channel -->
	<channel-type id="bg_rgb">
		<item-type>Color</item-type>
		<label>Background Color</label>
		<description>Background Color</description>
        <category>ColorLight</category>
        <tags>
            <tag>Control</tag>
            <tag>Light</tag>
        </tags>
	</channel-type>

	<channel-type id="bg_lmode">
		<item-type>String</item-type>
		<label>Background Color Mode</label>
		<description>Background Color Mode</description>
		<category>ColorLight</category>
		<state readOnly="true">
			<options>
				<option value="RGB">Color</option>
				<option value="CT">Color Temperature</option>
				<option value="HSV">Hsv</option>
			</options>
		</state>
	</channel-type>

	<!-- Background Flowing Channel -->
	<channel-type id="bg_flowing">
		<item-type>Switch</item-type>
		<label>Background Flowing</label>
		<description>Background Flow Running Status</description>
		<state readOnly="true"/>
	</channel-type>

	<!-- Background Flow Parameters Channel -->
	<channel-type id="bg_flow_params">
		<item-type>String</item-type>
		<label>Background Flow Parameters</label>
		<description>Current Background Flow Parameters.</description>
		<state readOnly="true"/>
	</channel-type>


</thing:thing-descriptions>
